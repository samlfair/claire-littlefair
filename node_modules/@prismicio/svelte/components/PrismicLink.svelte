<script>import * as prismicH from "@prismicio/helpers";
import { usePrismic } from "../usePrismic";
// const defaultBlankTargetRelAttribute = "noopener noreferrer";
export let field, linkResolver, download, hreflang, referrerpolicy, rel, target, type, prefetch, noscroll;
const setRel = () => {
    let rels = [];
    const defaultBlankTargetRelAttribute = ["noopener", "noreferrer"];
    if (rel)
        rels.push(...rel?.split(" "));
    if ((field && "target" in field && field?.target === "_blank") ||
        target === "_blank")
        defaultBlankTargetRelAttribute.forEach((item) => {
            if (!rels.includes(item))
                rels.push(item);
        });
    if (field &&
        "link_type" in field &&
        field?.link_type === "Web" &&
        !rels.includes("external"))
        rels.push("external");
    return rels.join(" ");
};
const attrs = {
    download,
    hreflang,
    referrerpolicy,
    target: target || field?.target || undefined,
    rel: setRel(),
    type,
};
const link = field
    ? prismicH.asLink(field, linkResolver || usePrismic().linkResolver)
    : "";
const href = link || "";
</script>

<a
	{href}
	{...attrs}
	sveltekit:prefetch={prefetch}
	sveltekit:noscroll={noscroll}
>
	<slot />
</a>
